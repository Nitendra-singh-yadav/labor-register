<div class="container">
    <button mat-raised-button color="primary" (click)="addLabour()">Add Labour</button>
</div>
<mat-table class="labour-table" #table [dataSource]="labours">
    <ng-container matColumnDef="name" sticky>
        <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.name | titlecase}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="currentSiteName">
        <mat-header-cell *matHeaderCellDef> Current site </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.siteName | titlecase}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="settledTill">
        <mat-header-cell *matHeaderCellDef> Paid Till </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.settledTill}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="lastPaid">
        <mat-header-cell *matHeaderCellDef> Paid On </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.lastPaid}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="lastPaidAmount">
        <mat-header-cell *matHeaderCellDef> Amount Paid </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.lastPaidAmount}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="totalPaid">
        <mat-header-cell *matHeaderCellDef> Total Paid </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.totalPaid}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="balanceAmount">
        <mat-header-cell *matHeaderCellDef> Balance </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.balanceAmount}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
        <mat-cell *matCellDef="let row"> 
            <button color="primary" mat-icon-button (click)="updatePopUp(row)"><mat-icon>update</mat-icon></button>
            <button color="warn" mat-icon-button (click)="confirmSettle(row)"><mat-icon>check</mat-icon></button>
        </mat-cell>
    </ng-container>
    
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row [ngClass]="{'inactive': !row.isActive}" *matRowDef="let row; columns: displayedColumns;"></mat-row>
</mat-table>
